
<div *ngIf="error">{{error}}</div>
<div *ngIf="authorised">
  <h1>Create Post</h1>
  <form (ngSubmit)="onSubmit()" #mapForm="ngForm">
    
    <div class="form-group">
      <label for="titleinput">Title</label>
      <input type="text" class="form-control" id="titleinput"
              [(ngModel)]="title" name="title">
    </div>
    <div class="form-group">
      <label for="locationinput">Location</label>
      <input type="text" class="form-control" id="locationinput"
              [(ngModel)]="locationName" name="location" on-focusout="getCoordinates()">
    </div>
    <div class="form-group">
      <label for="descriptioninput">Description</label>
      <input type="text" class="form-control" id="descriptioninput"
              [(ngModel)]="description" name="description">
    </div>
    <div class="form-group">
      <label for="urlinput">Url</label>
      <input type="text" class="form-control" id="urlinput"
              [(ngModel)]="url" name="url">
    </div>

    <button type="button" class="btn btn-default" (click)="getCoordinates()">Search</button>
    <button type="button" class="btn btn-default" (click)="createPost()">Create Post</button>
  </form>
</div>

<div *ngIf="formatedAddress">{{formatedAddress}}</div>
<img *ngIf="codeCountry" src="http://www.countryflags.io/{{codeCountry}}/shiny/64.png">

<div #gmap style="width:500px;height:300px"></div>

<div *ngIf="!authorised">
    <a class="default-box" routerLink="/userlogin">Log in to create new post</a>
</div>

